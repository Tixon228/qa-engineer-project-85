---
- summary: |
    Проверка регистрации нового пользователя с валидными данными
  requirement: |
    Пользователь с валидными данными должен быть успешно зарегистрирован и перенаправлен на главную страницу
  prerequisites: |
    Открыта траница регистрации
  test-data: |
    Любые незанятые данные, подходящие под правила: логин не пустой, пароль от 6 до 16символов, почта корректная
  steps:
    - Ввести логин
    - Ввести email
    - Ввести пароль
    - Нажать «Submit»
  expected-result: |
    Пользователь успешно зарегистрирован и видит главную страницу
    
- summary: |
    Проверка невозможности регистрации с некорректными полями
  requirement: |
    Система должна отображать сообщение об ошибке при попытке регистрации с некорректными данными
  prerequisites: |
    Открыта страница регистрации
  test-data: |
    Логин: " "
    Пароль: "123"
    Email: "email"
  steps:
    - Оставить поле логина пустым
    - Ввести короткий пароль
    - Ввести некорректный email
    - Нажать кнопку «Submit»
  expected-result: |
    Появляются сообщения об ошибках возле соответствующих полей, регистрация не происходит

- summary: |
    Проверка входа в систему с существующими данными 
  requirement: |
    Пользователь с правильными данными должен войти в систему и увидеть главную страницу
  prerequisites: |
    Страница входа открыта, учетная запись с указанными данными существует
  test-data: |
    Почта: test_user
    Пароль: testpass
  steps:
    - Ввести почту
    - Ввести пароль
    - Нажать кнопку «Submit»
  expected-result: |
    Пользователь успешно входит в систему и перенаправляется на главную страницу

- summary: |
    Проверка невозможности входа с неверными данными
  requirement: |
    При неверных данных система должна отображать сообщение об ошибке и не пускать пользователя в систему
  prerequisites: |
    Страница входа открыта
  test-data: |
    Почта: wrong@mail.ru
    Пароль: wrong_password
  steps:
    - Ввести неверную почту
    - Ввести неверный пароль
    - Нажать «Submit».
  expected-result: |
    Появляется сообщение об ошибке, пользователь не входит в систему

- summary: |
    Проверка входа в систему с помощью Discord
  requirement: |
    Пользователь, авторизовавшись в Discord должен войти в систему и увидеть главную страницу
  prerequisites: |
    Страница входа открыта
  test-data: |
    данные от любого дисксорд аккаунта
  steps:
    - Нажать "Sign in with Discord"
    - Авторизоваться в Discord
  expected-result: |
    Пользователь успешно входит в систему и перенаправляется на главную страницу

- summary: |
    Проверка входа в систему с помощью Github
  requirement: |
    Пользователь, авторизовавшись в Github должен войти в систему и увидеть главную страницу
  prerequisites: |
    Страница входа открыта
  test-data: |
    данные от любого гитхаб аккаунта
  steps:
    - Нажать "Sign in with Github"
    - Авторизоваться в Github
  expected-result: |
    Пользователь успешно входит в систему и перенаправляется на главную страницу

- summary: |
    Проверка отображения страницы с описанием сайта для неавторизованного пользователя
  requirement: |
    Открыта страница https://codebattle.hexlet.io/ содержать кнопки «Sign in» и «Sign up», а также "Try simple battle" с базовым функционалом игры
  prerequisites: |
    Пользователь не авторизован, сайт открыт
  test-data: |
    empty
  steps:
    - Визуальная проверка отображения страницы
  expected-result: |
    Cтраница  с описанием сайта отображается корректно, присутствуют кнопки «Sign in» и «Sign up», а также "Try simple battle"


- summary: |
    Проверка кнопки "Try simple battle"
  requirement: |
    Открывается страница со всем базовым функционалом игры, и начинается игра против бота
  prerequisites: |
    Пользователь не авторизован, открыта страница https://codebattle.hexlet.io/
  steps:
    - Нажать "Try simple battle"
  expected-result: |
    Начинается игра против бота, весь базовый функционал игры работает


- summary: |
      Убедиться, что список игр в лобби отображается корректно
    requirement: |
      Лобби должно содержать список доступных игр с информацией о сложности, состоянии и участниках
    prerequisites: |
      Пользователь авторизован и находится на главной странице в разделе лобби https://codebattle.hexlet.io/#lobby
    steps:
      - Проверить что находимся в разделе "Lobby"
      - Проверить корректность отображения всей информации в разделе
    expected-result: |
      Отображается список игр с указанием уровня сложности, статуса (например, "готов к бою"), и участников


- summary: |
      Проверка работы кнопки "Fight" для вызова игрока на игру
    requirement: |
      Кнопка "Fight" должна быть активной для доступных игроков и начинать игру при нажатии
    prerequisites: |
      Пользователь авторизован, находится на главной странице, в разделе лобби, другой игрок или бот доступен для игры
    steps:
      - Нажать кнопку "Fight" напротив доступного игрока
    expected-result: |
      Игра запускается, пользователь перенаправляется в редактор кода

- summary: |
      Проверка работы чата в лобби
    requirement: |
      Пользователь должен иметь возможность отправлять сообщения в чат и видеть их в реальном времени
    prerequisites: |
      Пользователь авторизован и находится на главной странице
    steps:
      - Ввести сообщение в поле чата
      - Нажать кнопку "Send"
    expected-result: |
      Сообщение и время отправки отображается в чате, другие пользователи его видят

- summary: |
      Проверка отображения таблицы лидеров
    requirement: |
      Таблица лидеров должна содержать информацию о лучших игроках недели, месяца и за всё время с количеством очков
    prerequisites: |
      Пользователь авторизован, находится на главной странице
    steps:
      - Проверить визуальное отображение таблицы лидеров
      - Переключиться между вкладками "Week", "Month", "All"
    expected-result: |
      Таблица лидеров корректно отображается, данные соответствуют выбранной вкладке


- summary: |
      Проверка кнопки "Top list"
    requirement: |
      Открывается полная таблица "Users rating", с рейтингом за неделю, месяц и всё время
    prerequisites: |
      Пользователь авторизован, находится на главной странице
    steps:
      - У таблицы лидеров на главной странице нажать "Top list"
    expected-result: |
      Открылась полная таблица "Users rating", с рейтингом всех игроков за неделю, месяц и всё время

- summary: |
      Проверка создания игры
    requirement: |
      Запускается игра
    prerequisites: |
      Пользователь авторизован, находится на главной странице
    steps:
      - Нажать "Create a game"
      - Выбрать параметры игры(сложность, с кем играть, время)
      - Нажать "Create battle"
    expected-result: |
      Игра запускается, пользователь перенаправляется в редактор кода


- summary: |
      Проверка корректного отображения игроков в онлайне
    requirement: |
      Блок с информацией об игроках в онлайне должен корректно отображать текущих пользователей, их статус и активность
    prerequisites: |
      Пользователь авторизован, находится на главной странице, в онлайне есть как минимум один другой пользователь
    steps:
      - Найти блок "Online players"
      - Проверить список игроков, их статус (в игре, в лобби) и корректность отображения их имен и аватаров
    expected-result: |
      Список игроков в онлайне отображается корректно, статусы соответствуют реальной активности, данные обновляются при изменении активности игроков


- summary: |
      Проверка отправки частного сообщения через иконку конверта 
    requirement: |
      Пользователь может отправлять личные сообщения другим игрокам через чат
    prerequisites: |
      Пользователь авторизован, находится на главной странице, другой игрок находится в лобби
    steps:
      - Нажать на иконку конверта в блоке онлайн игроков
      - Выбрать ник другого пользователя
      - Написать текст сообщения
      - Нажать "Send"
    expected-result: |
      Открывается чат с выбранным игроком, сообщение успешно отправляется и отображается у обоих пользователей

- summary: |
      Проверка отправки приглашения в игру через иконку мечей
    requirement: |
      Пользователь может отправлять приглашения на игру другим игрокам
    prerequisites: |
      Пользователь авторизован, находится на главной странице, другой игрок находится в лобби
    steps:
      - Нажать на иконку мечей в блоке онлайн игрков
      - Выбрать ник игрока которому хотим отправить приглашение
      - Выбрать параметры игры
      - Нажать "Create invite"
      - Дождаться принятия приглашения другого игрока
    expected-result: |
      Игрок получает приглашение на игру, приглашение отображается у обоих пользователей

- summary: |
      Проверка отображения пунктов различных действий при нажатии на ник онлайн игроков 
    requirement: |
      Пользователь может увидеть список доступных действий при нажатии на ник другого игрока
    prerequisites: |
      Пользователь авторизован, находится на главной странице, в списке онлайн отображаются другие игроки
    steps:
      - Нажать на ник игрока
      - Проверить отображение пунктов (Copy Name, Info, Follow, Direct Message, Send an Invite)
    expected-result: |
      Блок с действиями отображается корректно и включает все пункты

- summary: |
      Проверка работы функции копирования имени игрока
    requirement: |
      Пользователь может копировать имя другого игрока в буфер обмена
    prerequisites: |
      Пользователь авторизован, находится на главной странице, в списке онлайн отображаются другие игроки
    steps:
      - Нажать на ник игрока
      - Выбрать пункт "Copy Name"
      - Вставить содержимое буфера обмена в любое текстовое поле
    expected-result: |
      Имя игрока успешно копируется в буфер обмена и корректно вставляется

- summary: |
      Проверка отображения информации о другом игроке
    requirement: |
      Пользователь может просмотреть информацию о другом игроке
    prerequisites: |
      Пользователь авторизован, находится на главной странице, другой игрок находится в лобби
    steps:
      - Нажать на ник игрока
      - Выбрать пункт "Info"
    expected-result: |
      Открывается профиль выбранного игрока, со всеми пунктами(Статистика, завершенные игры)

- summary: |
      Проверка подписки на другого игрока.
    requirement: |
      Пользователь может подписываться на других игроков
    prerequisites: |
      Пользователь авторизован, находится на главной странице, другой игрок находится в лобби
    steps:
      - Нажать на ник игрока.
      - Выбрать пункт "Follow".
      - Проверить статус подписки в правом верхнем углу сайта(иконка мечей)
    expected-result: |
      Игрок успешно добавляется в список подписок, статус изменяется на "You are following ID:"

- summary: |
      Проверка отправки личного сообщения другому игроку.
    requirement: |
      Пользователь может отправлять личные сообщения другим игрокам через чат
    prerequisites: |
      Пользователь авторизован, находится на главной странице, другой игрок находится в лобби
    steps:
      - Нажать на ник игрока в списке
      - Выбрать пункт "Direct Message"
      - Написать текст сообщения
      - Нажать "Send"
    expected-result: |
      Открывается чат с выбранным игроком, сообщение успешно отправляется и отображается у обоих пользователей

- summary: |
      Проверка отправки приглашения на игру
    requirement: |
      Пользователь может отправлять игровые приглашения другим игрокам
    prerequisites: |
      Пользователь авторизован, находится на главной странице, другой игрок находится в лобби
    steps:
      - Нажать на ник игрока
      - Выбрать пункт "Send an Invite"
      - ПРоверить, что у пользователя в правом верхнем углу появляется оповещение об отправке
      - Проверить, что приглашение отображается у другого игрока
    expected-result: |
      Приглашение отправляется и корректно отображается у обоих игроков

- summary: |
      Проверка корректного отображения информации во вкладке "Tournaments"
    requirement: |
      Во вкладке "Tournaments" должна отображаться информация о доступных турнирах
    prerequisites: |
      Пользователь авторизован, находится на главной странице
    steps:
      - Перейти во вкладку "Tournaments"
      - Проверить отображение списка турниров
    expected-result: |
      Список турниров отображается корректно: название, дата и тип, а также кнопка show

- summary: |
      Проверка кнопки "Show" у турнира
    requirement: |
      Пользователь должен иметь возможность просмотреть подробности турнира через кнопку "Show"
    prerequisites: |
      Пользователь авторизован, находится во вкладке "Tournaments" и в ней отображаются турниры
    steps:
      - Выбрать турнир в списке
      - Нажать на кнопку "Show"
    expected-result: |
      Открывается страница с подробной информацией о выбранном турнире, название и информация о том завершен ли он или начался и уже идет и участники

- summary: |
      Проверка присоединения к турниру, который уже начался через кнопку "Join"
    requirement: |
      Пользователь может присоединиться к турниру, который уже идет
    prerequisites: |
      Пользователь авторизован, находится во вкладке "Tournaments", турнир, который уже начался, отображается в списке
    steps:
      - Выбрать турнир среди списка "Live tournaments" и нажать "show"
      - Нажать на кнопку "Join" для выбранного турнира
      - Проверить, что пользователь добавлен в список участников турнира
    expected-result: |
      Пользователь успешно присоединяется к турниру, его имя появляется в списке участников. Кнопка "Join" становится "Leave"

- summary: |
      Проверка выхода из турнира, который уже начался через кнопку "Leave"
    requirement: |
      Пользователь может покинуть турнир, который уже идет
    prerequisites: |
      Пользователь авторизован, находится во вкладке "Tournaments" и уже присоединился к турниру, который начался
    steps:
      - Нажать на кнопку "Leave" для выбранного турнира
      - Проверить, что пользователь исчез из списка участников турнира
    expected-result: |
      Пользователь успешно выходит из турнира, его имя удаляется из списка участников. Кнопка "Leave" меняется обратно на "Join"


- summary: |
      Проверка корректного отображения информации во вкладке "History"
    requirement: |
      Во вкладке "History" должна отображаться история игр пользователей и счетчик всего количества игр
    prerequisites: |
      Пользователь авторизован, находится на главной странице
    steps:
      - Перейти во вкладку "History"
      - Проверить отображение списка игр
    expected-result: |
      История игр отображается корректно, информация соответствует данным пользователя, также отображаются кнопка "Show" и счетчик всех завершенных игр

- summary: |
      Проверка кнопки "Show" у игры из истории
    requirement: |
      Пользователь может просмотреть детали завершённой игры через кнопку "Show"
    prerequisites: |
      Пользователь авторизован, находится во вкладке "History"
    steps:
      - Выбрать игру в списке
      - Нажать на кнопку "Show"
    expected-result: |
      Открывается окно с информацией о том что игра закончена, кто победил и датой окончания











summary: |
  Проверка верного отображения "My Profile"
requirement: |
  Профиль пользователя содержит статистику и завершенные игры, с возможностью просмотра результатов
prerequisites: |
  Пользователь авторизован
steps:
  - Нажать на имя пользователя в верхнем правом углу
  - Выбрать пункт "My Profile"
  - Проверить корректность отображаемой статистики
  - Перейти в "Completed games"
  - Проверить верно ли отображается вся информация о прошлых играх
expected-result: |
  Вся информация в профиле пользователя отображается верно


summary: |
  Проверка функциональности "Settings"
requirement: |
  Раздел "Settings" все настройки работают
prerequisites: |
  Пользователь авторизован
steps:
  - Нажать на имя пользователя в верхнем правом углу
  - Выбрать пункт "Settings"
  - Меняем имя в поле "Your name"
  - Меняем основной язык программирования в поле "Your weapon"
  - Меняем название вашего клана "Your clan"
  - Меняем звуки которые будут проигрываться в конце игры и их громкость 
  - Сохраняем, нажимая "Save"
expected-result: |
  Все настройки сохранены и применены 


summary: |
  Проверка работы кнопки "Sign Out"
requirement: |
  Пользователь должен быть успешно разлогинен и перенаправлен на страницу авторизации
prerequisites: |
  Пользователь авторизован
steps:
  - Нажать на имя пользователя в верхнем правом углу
  - Выбрать пункт "Sign Out"
expected-result: |
  Пользователь выходит из аккаунта, открывается страница с описанием сайта и кнопками "Sign in", "Sign out"



summary: |
  Проверка работы перехода в раздел "Tasks".
requirement: |
  Раздел "Tasks" должен содержать доступные задачи для игр.
prerequisites: |
  Пользователь авторизован.
steps:
  - Нажать на имя пользователя в верхнем правом углу.
  - Выбрать пункт "Tasks".
expected-result: |
  Открывается раздел с задачами.

  


summary: |
  Проверка работы перехода в "SourceCode"
requirement: |
  После нажатия открывается в новой вкладке github игры
prerequisites: |
  Пользователь авторизован
steps:
  - Нажать на имя пользователя в верхнем правом углу
  - Выбрать пункт "SourceCode"
expected-result: |
  Открывается github с описанием и кодом игры


summary: |
  Проверка работы перехода в "Hexlet"
requirement: |
  После нажатия открывается в новой вкладке сайт Hexlet
prerequisites: |
  Пользователь авторизован
steps:
  - Нажать на имя пользователя в верхнем правом углу
  - Выбрать пункт "Hexlet"
expected-result: |
  Открывается главная страница Hexlet, с предложением начать обучение


summary: |
  Проверка работы перехода в "Join Discord"
requirement: |
  После нажатия открывается в новой вкладке discord сервер игры
prerequisites: |
  Пользователь авторизован
steps:
  - Нажать на имя пользователя в верхнем правом углу
  - Выбрать пункт "Join Discord"
expected-result: |
  Открывается приглашение вступить в Discord сервер игры


summary: |
  Проверка работы перехода в "Tg#codebattle"
requirement: |
  После нажатия открывается в новой вкладке tg канал "Хекслет сообщество"
prerequisites: |
  Пользователь авторизован
steps:
  - Нажать на имя пользователя в верхнем правом углу
  - Выбрать пункт "Tg#codebattle"
expected-result: |
  Открывается Telegram с предложением вступить в беседу "Хекслет Сообщество"



- summary: |
     Проверка запросов в Devtools
  requirement: |
     Проделать различные действия на сайте, отслеживая ошибки в запросах 
  prerequisites:
    Открыта главная страница https://codebattle.hexlet.io/#lobby
  test-data: |
    empty
  steps:
    - Отправляем сообщение в чат
    - Отправляем запрос на игру любому онлайн игроку
    - Теперь нажимая на свой ник в правом верхнем углу переходим на разные страницы, переходим в 'My profile'
    - Переходим в 'Settings'
    - Переходим в 'Users rating'
    - Переходим в 'Tasks'
    - Переходим в 'Tournaments'
    - Нажимаем 'Show'
    - Возвращаемся на главную и создаем игру против бота, нажимая "Create a game"
  expected-result: |
    В запросах нет ошибок 

- summary: |
     Проверка совместимости с мобильными устройствами
  requirement: |
     Проверяем как отображается основной функционал на мобильных устройствах
  prerequisites:
    Открыта главная страница https://codebattle.hexlet.io/#lobby
  test-data: |
    Мобильные устройства: xiaomi redmi note 9 pro, Iphone SE
  steps:
    - Отправляем сообщение в чат
    - Отправляем запрос на игру любому онлайн игроку
    - Теперь нажимая на свой ник в правом верхнем углу переходим на разные страницы, переходим в 'My profile'
    - Переходим в 'Settings'
    - Переходим в 'Users rating'
    - Переходим в 'Tasks'
    - Переходим в 'Tournaments'
    - Нажимаем 'Show'
    - Возвращаемся на главную и создаем игру против бота, нажимая "Create a game"
  expected-result: |
    Всё отображается и работает корректно

